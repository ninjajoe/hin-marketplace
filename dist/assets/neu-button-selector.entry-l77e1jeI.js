import{h as v,H as m,g as y,r as k,c as p}from"./index-jm4XIquF.js";import{b as g,a as A,d as _,u as B}from"./utilities-a180c6fa-DAHwV70L.js";/*!
 * (C) HCA Healthcare Inc. http://hcahealthcare.com - MIT License
 */var E=function(){function u(t){var e=this;k(this,t),this.neuForm=p(this,"neuForm"),this.neuChange=p(this,"neuChange"),this.neuFocus=p(this,"neuFocus"),this.neuBlur=p(this,"neuBlur"),this._tag="neu-button-selector",this._id=B("selector"),this.checkTruncation=function(){var i=e.el.querySelector(".button-text");i&&(e.isTruncated=i.scrollWidth<e.el.clientWidth,e.isTruncated?e.el.classList.add("is-truncated"):e.el.classList.remove("is-truncated"))},this.active=!1,this.color="blue",this.icon="none",this.kind="single",this.size="default",this.track="gray",this.unit="group",this.value="",this._value=[],this._form=void 0,this.isTruncated=!1}return u.prototype.neuChangeActiveButton=function(t){var e=this,i,n=document.getElementById((i=t==null?void 0:t.detail)===null||i===void 0?void 0:i.id),o=n==null?void 0:n.parentElement,a=setTimeout(function(){var s;n&&o&&((s=t==null?void 0:t.detail)===null||s===void 0?void 0:s.component)==="neu-button-selector"&&(o.hasAttribute("kind")&&o.getAttribute("kind")==="single"||o.classList.contains("kind-single"))&&e.setActiveButton(n,o),clearTimeout(a)},100)},u.prototype.handleClickEvent=function(){var t=this,e,i,n,o,a,s=(e=this.el)===null||e===void 0?void 0:e.id,r=(i=this.el)===null||i===void 0?void 0:i.parentElement,c=null;if(r){var h="";if(r.hasAttribute("kind")?h=r.getAttribute("kind"):r.classList.contains("kind-multiple")?h="multiple":h="single",c=r.querySelectorAll(".unit-button"),h&&c&&(c==null?void 0:c.length)>0){var l=Array.from(c).filter(function(f){return f.id!==s}),d=this.el;if(h==="single"&&g(this.active)===!0)return!1;var b=!0;(d.hasAttribute("active")&&d.getAttribute("active")==="true"||d.classList.contains("state-active"))&&(b=!1),(n=this.el)===null||n===void 0||n.setAttribute("active",b.toString()),h==="single"&&l&&(l==null?void 0:l.length)>0?this.clearAttribute(l):h==="multiple"&&(this._value=[],b===!0&&this._value.push(this.el.value),l&&(l==null?void 0:l.length)>0&&l.forEach(function(f){f.hasAttribute("active")&&f.getAttribute("active")==="true"&&t._value.push(f.value)})),this.el.blur(),this._form=h==="single"?d==null?void 0:d.value:this._value,r.setAttribute("value",this._form),this.neuForm.emit({component:this._tag,id:(o=this.el)===null||o===void 0?void 0:o.id,value:this._form}),this.neuChange.emit({component:this._tag,id:(a=this.el)===null||a===void 0?void 0:a.id,value:this._form})}}},u.prototype.clearAttribute=function(t){var e=setTimeout(function(){t.forEach(function(i){i.removeAttribute("active")}),clearTimeout(e)},0);return!0},u.prototype.handleOnKeyDown=function(t){A(t)&&this.handleClickEvent()},u.prototype.handleOnFocusBlur=function(t){t==="focus"?this.neuFocus.emit({component:this._tag,id:this._id}):this.neuBlur.emit({component:this._tag,id:this._id})},u.prototype.setActiveButton=function(t,e){if(t&&e){var i=0,n=Array.from(e.children);if(n){n.some(function(c){if(c==t)return!0;i++});var o=100/e.children.length,a=o*i,s="0%",r="100%";i===0?s="calc(".concat(a,"% + var(--selector-track-padding))"):i===e.children.length-1?s="calc(".concat(a,"% - var(--selector-track-padding))"):s="".concat(a,"%"),i===0?r="calc(".concat(o,"% - var(--selector-track-padding))"):i===e.children.length-1?r="".concat(o,"%"):r="calc(".concat(o,"% - var(--selector-track-padding))"),e.style.setProperty("--target-left",s),e.style.setProperty("--target-width",r)}}},u.prototype.setButtonTitle=function(){var t=this,e=setTimeout(function(){var i=t.el.querySelector(".button-text");i&&(i!=null&&i.textContent)&&t.el.setAttribute("title",i.textContent),clearTimeout(e)},100)},u.prototype.render=function(){var t,e=this,i=function(){if(e.unit==="button")return g(e.active)===!0?"true":"false"},n=(t={},t["".concat(this._tag)]=this.unit==="group",t["unit-button"]=this.unit==="button",t["kind-".concat(this.kind)]=this.unit==="group",t["color-".concat(this.color)]=this.unit==="group",t["size-".concat(this.size)]=this.unit==="group",t["state-active"]=this.unit==="button"&&g(this.active),t);return v(m,{"aria-pressed":i(),class:n,id:this._id,role:this.unit==="group"?"group":"button",tabindex:this.unit==="button"?0:-1,value:this.unit==="button"?this.value:this._form,onClick:this.unit==="button"?function(){return e.handleClickEvent()}:void 0,onKeyDown:this.unit==="button"?function(o){return e.handleOnKeyDown(o)}:void 0,onFocus:this.unit==="button"?function(){return e.handleOnFocusBlur("focus")}:void 0,onBlur:this.unit==="button"?function(){return e.handleOnFocusBlur("blur")}:void 0},this.unit==="button"&&this.icon!==void 0&&this.icon!=="none"&&this.icon!==""&&v("div",{class:"button-icon"},v("neu-icon",{"aria-hidden":"true"},this.icon)),this.unit==="button"?v("div",{class:"button-text"},v("slot",null)):v("slot",null))},u.prototype.componentWillLoad=function(){this.unit==="button"&&(this.checkTruncation(),window.addEventListener("resize",this.checkTruncation))},u.prototype.componentDidLoad=function(){var t=this;if(this.unit==="group"&&_(this.el,"Button Selector",0,5),this.unit==="button"&&this.setButtonTitle(),this.unit==="button"&&g(this.active)===!0)var e=setTimeout(function(){var i=document.getElementById(t.el.id),n=i==null?void 0:i.parentElement;i&&n&&(n.hasAttribute("kind")&&n.getAttribute("kind")==="single"||n.classList.contains("kind-single"))&&t.setActiveButton(i,n),clearTimeout(e)},100)},u.prototype.disconnectedCallback=function(){this.unit==="button"&&window.removeEventListener("resize",this.checkTruncation)},Object.defineProperty(u.prototype,"el",{get:function(){return y(this)},enumerable:!1,configurable:!0}),u}();export{E as neu_button_selector};
