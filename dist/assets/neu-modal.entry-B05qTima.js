import{h as a,H as r,g as u,r as c,c as h}from"./index-CqKYxqU4.js";import{b as d,m as f,u as m}from"./utilities-a180c6fa-DAHwV70L.js";import{N as v}from"./functionals-0e75fd99-CjMF7vwF.js";/*!
 * (C) HCA Healthcare Inc. http://hcahealthcare.com - MIT License
 */var b=function(e){var t=e.tag,i=e.id,n=e.label,s=e.onCloseEvent,o=function(){s&&s()};return a("dialog",{class:"".concat(t,"--wrapper")},a("div",{class:"unit-header"},a("div",{class:"neu-display-4 font-bold",id:"".concat(i,"--label")},n),a("div",{class:"unit-header--close"},a(v,{label:"Close Modal",icon:"close",small:!1,color:"gray",id:"".concat(i,"--close"),neutral:!1,onClickEvent:function(){return o()}}))),a("slot",null))},E=function(){function e(t){c(this,t),this.neuDismiss=h(this,"neuDismiss"),this._tag="neu-modal",this._id=m("modal"),this._container="neu-live-modal",this._features={disableBackgroundDismiss:!0,disableCloseButton:!1,disableEscTrigger:!1},this.ariaHidden=!0,this.tabIndex="-1",this.returnFocus=void 0,this.label=void 0,this.unit="modal",this.active=!1,this.size="default",this.backdropDismiss=!0}return e.prototype.handleCloseEvent=function(){var t=document.getElementById(this.el.id);t&&(this.neuDismiss.emit({component:this._tag,id:this.el.id}),t.setAttribute("active","false"),t.setAttribute("aria-expanded","false")),this.returnFocus&&this.returnFocus.focus()},e.prototype.disableBackground=function(){var t=["neu-app-header","neu-app-content","neu-app-footer"],i=d(this.active)===!0,n=this.el.querySelector(".unit-header--close .neu-icon--button");if(i===!0){this.returnFocus=document==null?void 0:document.activeElement;var s=setTimeout(function(){n.focus({focusVisible:!0}),t.forEach(function(o){var l;(l=document==null?void 0:document.getElementById(o))===null||l===void 0||l.setAttribute("inert","true")}),clearTimeout(s)},25)}else t.forEach(function(o){var l;(l=document==null?void 0:document.getElementById(o))===null||l===void 0||l.removeAttribute("inert")})},e.prototype.handleKeyDown=function(t){this._features.disableEscTrigger===!1&&t.key==="Escape"&&this.handleCloseEvent()},e.prototype.clickOutsideModal=function(t){var i;if(this.backgroundDismissDisabled()===!1){var n=(i=t==null?void 0:t.target)===null||i===void 0?void 0:i.classList;if(n&&n.contains("".concat(this._tag,"-backdrop")))this.handleCloseEvent();else return}else return},e.prototype.backgroundDismissDisabled=function(){return this._features.disableBackgroundDismiss===!0&&d(this.backdropDismiss)===!1},e.prototype.render=function(){var t,i=this,n,s=!((n=this.el)===null||n===void 0)&&n.id?this.el.id:this._id,o=(t={},t["".concat(this._tag)]=this.unit==="modal",t["".concat(this._tag,"-backdrop")]=this.unit==="modal",t["neu-level-1"]=this.unit==="modal",t["unit-".concat(this.unit)]=this.unit!=="modal",t["state-active"]=this.unit==="modal"&&(d(this.active)||this.ariaHidden===!1),t["size-".concat(this.size)]=this.unit==="modal"&&this.size!=="default",t);return a(r,{key:"59b63a6cc87df82d940b1ad74ca96254eaea156f",class:o,id:this.unit==="modal"?s:void 0,role:this.unit==="modal"?"dialog":void 0,"aria-modal":this.unit==="modal","aria-labelledby":this.unit==="modal"?"".concat(s,"--label"):void 0,tabindex:this.unit==="modal"&&this.tabIndex},this.unit==="modal"&&a(b,{key:"382b0682cf3a8d875922b8eb2e413a3d8a4ca201",tag:this._tag,id:s,label:this.label,onCloseEvent:function(){return i.handleCloseEvent()}}),(this.unit==="content"||this.unit==="footer")&&a("slot",{key:"d111022dddbeea1142c7ffc802a236e484b5bf25"}))},e.prototype.componentWillLoad=function(){var t;if(this.unit==="modal"){var i=!((t=this.el)===null||t===void 0)&&t.id?this.el.id:this._id;f(this._container,i)}},Object.defineProperty(e.prototype,"el",{get:function(){return u(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"watchers",{get:function(){return{active:["disableBackground"]}},enumerable:!1,configurable:!0}),e}();export{E as neu_modal};
